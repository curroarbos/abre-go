<% if !@activity.photo_url.nil? %>
  <div class="card-category text-decoration-none" style="background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('<%= @activity.photo_url %>')">
    <%= @activity.category.name %>
  </div>
<% else %>
  <div class="card-category text-decoration-none" style="background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('<%= cl_image_path @activity.photo.key, height: 300, crop: :fill %>')">
    <%= @activity.category.name %>
  </div>
<% end %>

<div class="container">
  <div class="row">
    <div class="d-flex flex-column col">
      <div class="mt-3">
        <h2><strong><%= @activity.title %></strong></h2>
      </div>
      <div><h3>Images for the activity go here</h3></div>
      <div class="d-flex flex-column">
        <p>This activity is in: <%= @activity.location %></p>
        <p>Max number of people for this activity: <%= @activity.max_people %></p>
        <p><%= @activity.price %>â‚¬</p>
        <div class="reviews">Reviews will go here</div>
      </div>

      <div class="border-top border-bottom pt-3">
        <p>This activity is hosted by <%= @activity.user.first_name %> and some extra text to test how it works</p>
      </div>

      <div class="mt-3">
        <h3>A More Detailed Description</h3>
      </div>
    </div>

    <div class="py-3 col">
        <div class="bg-white rounded p-3 shadow">
          <h3>Book now</h3>
          <%= simple_form_for [@activity, @booking] do |f| %>
            <%= f.input :start_date,
                        as: :string,
                        input_html: { data: { controller: "datepicker" , datepicker_disabled_dates_value: @disabled_dates} } %>
            <%= f.input :end_date,
                        as: :string,
                        input_html: { data: { controller: "datepicker", datepicker_disabled_dates_value: @disabled_dates } } %>
            <%= f.input :number_of_people%>
            <%= f.submit class: 'btn btn-primary' %>
          <% end %>
        </div>
      </div>
    </div>

  <div class="d-flex justify-content-between my-4">
    <%= link_to "Book this activity", new_activity_booking_path(@activity), class: "btn btn-primary" %>
  </div>
    <%= link_to "Back to all activities", activities_path(@activity) %>

</div>

<%# for the provider show page
# <%= link_to "Edit", edit_activity_path(@activity), class: "btn btn-primary" %>
<%# <div class="d-flex justify-content-between my-4">
#       <%= link_to "delete this activity", activity_path(@activity), class: "btn btn-primary", data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this experience?" } %>
